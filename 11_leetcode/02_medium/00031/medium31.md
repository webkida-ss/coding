# Next Permutation
https://leetcode.com/problems/next-permutation/

## 解説
```
[1, 3, 5, 4, 2] 
↓ 
↓ 右から順列となる位置を探す
↓
[1, 4, 5, 3, 2] 
↓ 
↓ i以降の位置を反転する
↓ 
[1, 4, 2, 3, 5] 
```

### 概要
この問題は、整数の配列の「次の順列」を見つけることを求めています。「次の順列」とは、その配列の整数の次に大きい辞書順の順列のことを指します。具体的には、配列の全ての順列が辞書順にソートされたコンテナに格納されているとしたら、その配列の「次の順列」は、ソートされたコンテナでそれに続く順列です。もし、そのような配置が不可能な場合、配列は最も低い順序（つまり、昇順にソートされた状態）に再配置しなければなりません。

例えば、配列 arr = [1,2,3] の次の順列は [1,3,2] です。
同様に、配列 arr = [2,3,1] の次の順列は [3,1,2] です。
一方、配列 arr = [3,2,1] の次の順列は [1,2,3] です。なぜなら、[3,2,1] は辞書順でより大きい再配置が存在しないからです。

整数の配列 nums が与えられたとき、nums の次の順列を見つけてください。

置換はその場で行わなければならず、追加のメモリは定数しか使用できません。

この問題を解くためには、配列を後ろから見ていき、現在の要素が前の要素より小さい場合に見つけることから始めます。そのような要素を見つけたら、その要素より大きい最小の要素と交換します。その後、その要素の右側のすべての要素を昇順に並べ替えます。これにより、次の順列が得られます。

### 後ろから見ていく
配列の最後の要素から始めて、前に向かって要素を見ていきます。これは、次の順列を見つけるためには、配列の右側から最初に見つけた降順のペアを探す必要があるからです。

#### 「最初にnums[i] < nums[i+1]を満たすペアを探す」理由
次の順列を作るためには、可能な限り右側（低い位）の数字を変更することが最も効率的だからです。  
配列の右側から見ていき、nums[i] < nums[i+1]を満たす最初のペアを探すと、そのペアの左側の要素（nums[i]）は、右側にある要素よりも小さい最初の要素となります。このnums[i]を少し大きい値と交換することで、全体としては次の順列になります。  
もしも左側（高い位）の数字から変更を始めると、その結果は次の順列ではなく、より大きな順列になってしまいます。なぜなら、高い位の数字を変更すると、全体の値は大きく変わるからです。

したがって、次の順列を効率的に見つけるためには、右側から見ていき、nums[i] < nums[i+1]を満たす最初のペアを探すのが最適です。

### 小さい要素を見つける
配列を後ろから見ていき、現在の要素が前の要素より小さい場合を見つけます。これは、その小さい要素を少し大きい要素と交換することで、次の順列を作ることができるからです。

### 交換する
小さい要素を見つけたら、その要素より大きい最小の要素と交換します。これにより、その要素の位置には元より大きい値が来るため、全体としては次の順列になります。

### 右側を昇順に並べ替える
交換した要素の右側のすべての要素を昇順に並べ替えます。これは、交換により右側の要素が乱れてしまう可能性があるため、それを最小の順列（昇順）に戻すためです。


## 計算量

### 時間計算量: O(n)
配列の各要素を一度だけ見るため（n は配列の長さ）。

### 空間計算量: O(1) 
追加のメモリを使用しないため