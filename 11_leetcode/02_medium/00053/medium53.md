# Maximum Subarray
https://leetcode.com/problems/maximum-subarray/description/


## 解説
最大部分配列問題（Maximum Subarray Problem）は、整数の配列が与えられたときに、その配列の中で和が最大となる連続する部分配列を見つけ出し、その和を求める問題です。部分配列とは、配列の連続する要素から成る配列のことを指します。この問題では、少なくとも1つの数を含む部分配列を見つける必要があります。

### カダネのアルゴリズム

#### 初期化
maxSoFar（これまでの最大和）を配列の最初の要素に設定します。
maxEndingHere（現在検討中の部分配列の最大和）も配列の最初の要素に設定します。

#### 配列の走査
配列の2番目の要素から開始し、配列の終わりまで各要素に対して以下の操作を行います。  
maxEndingHereに現在の要素を加えます。この新しい和が現在の要素自体より小さい場合、maxEndingHereを現在の要素の値にリセットします。これは、新しい部分配列の開始点と見なすことができます。  
maxSoFarがmaxEndingHereより小さい場合、maxSoFarをmaxEndingHereの値で更新します。これにより、最大和を持つ部分配列の和を常に記録します。

#### 直感的に分かりづらい
負の数の扱い
配列に負の数が含まれている場合、これらの数が部分配列の和にどのように影響するかを理解するのは直感的ではないかもしれません。特に、負の数を加えることで和が減少するにもかかわらず、なぜそれが最大和を見つけるプロセスにおいて重要なのかが分かりづらい場合があります。しかし、カダネのアルゴリズムは、負の数を適切に扱うことで、最終的に最大和を持つ部分配列を見つけ出します。

動的プログラミングの直感
カダネのアルゴリズムは動的プログラミングの一種であり、小さな問題の解から大きな問題の解を構築するという原則に基づいています。各ステップで最適な決定を行うことで、最終的な解が最適になるというこのアプローチは、慣れるまでは直感的ではないかもしれません。

直感的理解のためのアプローチ
カダネのアルゴリズムをより直感的に理解するためには、いくつかのアプローチが役立ちます：

小さな例で試す: 小さな配列を例にして、手作業でアルゴリズムを実行してみると、その動作を理解しやすくなります。
視覚化: 配列を通じてアルゴリズムがどのように動作するかを図示することで、各ステップで何が起こっているのかを視覚的に捉えることができます。
負の数の影響を考える: 負の数が配列の和にどのように影響するかを具体的に考えてみることで、カダネのアルゴリズムがこれらの数をどのように扱っているかを理解できます。
最大部分配列問題に対するカダネのアルゴリズムの理解を深めるには、実際に多くの異なる例でアルゴリズムを試し、その動作を観察することが最も効果的です。練習を重ねることで、このアルゴリズムの直感的な理解が深まり、さまざまな問題に対する応用が可能になります。


## 計算量

### 時間計算量: O(n)
カダネのアルゴリズムは、与えられた配列を一度だけ走査します。配列の各要素に対して、その要素を含む最大の部分配列の和を計算し、同時にそれまでの走査で見つかった最大の和を記録して更新していきます。配列内のn個の要素それぞれに対して、定数時間の操作を行います（現在の要素を加えるか否かの判断、最大和の更新など）。  
したがって、カダネのアルゴリズムの時間計算量はO(n)です。ここで、nは配列内の要素数です。


### 空間計算量: O(1)
このアルゴリズムでは、配列を直接変更することなく、数個の変数（例えば、maxSoFar、maxEndingHereなど）のみを使用して計算を進めます。これらの変数は固定の記憶容量を占めるため、追加で必要なメモリは入力のサイズに依存しません。  
したがって、カダネのアルゴリズムの空間計算量はO(1)です。